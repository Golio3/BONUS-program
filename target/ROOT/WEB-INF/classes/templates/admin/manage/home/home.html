<!DOCTYPE html>
<html xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:th="http://www.thymeleaf.org"
      layout:decorate="~{admin/fragments/layout}">
<head>
    <title>Home</title>
</head>
<body>
<div layout:fragment="content" th:remove="tag">
    <h1>Home</h1>

    <div class="modal fade" id="folderModal" role="dialog">
        <div class="modal-dialog">
            <form th:action="@{/manage/home/add-folder}" th:object="${home}" accept-charset="UTF-8" method="post"
                  enctype="multipart/form-data">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h4 class="modal-title">Folders</h4>
                    </div>
                    <div class="modal-body">
                        <div>
                            <table>
                                <tr>
                                    <td><label for="foldersTitle">Title</label></td>
                                    <td><input id="foldersTitle" name="title"></td>
                                </tr>
                                <tr style="visibility: hidden">
                                    <td><label for="foldersContent">Content</label></td>
                                    <td><input id="foldersContent" name="content"></td>
                                </tr>
                                <tr>
                                    <td>Image:</td>
                                    <td><input type="file" name="foldersImage"/></td>
                                </tr>
                            </table>
                            <input id="foldersId" name="foldersId" th:type="hidden">
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="submit" class="btn btn-default">Save</button>
                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    </div>
                </div>
            </form>
        </div>
    </div>

    <form th:action="@{/manage/home}" th:object="${home}" accept-charset="UTF-8" method="post"
          enctype="multipart/form-data">

        <ul class="nav nav-tabs" role="tablist">
            <li class="active"><a href="#context" aria-controls="context" role="tab" data-toggle="tab">Context</a></li>
            <li><a href="#folders" aria-controls="folders" role="tab" data-toggle="tab">Folders</a></li>
            <li><a href="#meta" aria-controls="meta" role="tab" data-toggle="tab">Meta</a></li>
        </ul>
        <!-- Содержимое вкладок -->
        <div class="tab-content">
            <div role="tabpanel" class="tab-pane active" id="context">
                <div class="row">
                    <div class="col-md-12">
                        <div class="form-group">
                            <label for="headContextHome">Head context</label>
                            <textarea id="headContextHome" class="summernote" rows="6" th:field="${home.headContext}"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="bodyContextHome">Body context</label>
                            <textarea id="bodyContextHome" class="summernote" rows="6" th:field="${home.bodyContext}"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="downContextHome">Down context</label>
                            <textarea id="downContextHome" class="summernote" rows="6" th:field="${home.downContext}"></textarea>
                        </div>
                    </div>
                </div>
            </div>
            <div role="tabpanel" class="tab-pane" id="folders">
                <div class="row">
                    <div class="col-md-12">
                        <div class="row">
                            <div class="col-md-10">
                                <div th:if="${#lists.isEmpty(folders)}" class="alert alert-info" role="alert">Empty
                                    list of folders.
                                </div>
                                <div th:if="${not #lists.isEmpty(folders)}">
                                    <table class="table table-bordered">
                                        <tbody>
                                        <tr th:each="fold, stat : ${folders}" class="toggles">
                                            <td>
                                                <div class="alert alert-info alertTitle" role="alert">
                                                    <span th:text="${fold.title}"></span>
                                                </div>
                                            </td>
                                            <td class="action">
                                                <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#folderModal"
                                                        th:onclick="'btnEditFolder(\''
                                                        + ${folders[stat.index].title} + '\', \''
                                                        + ${folders[stat.index].content} + '\', \''
                                                        + ${folders[stat.index].id} + '\');'">
                                                    <span aria-hidden="" class="glyphicon glyphicon-edit"></span>
                                                </button>

<!--                                                <button type="submit" class="btn btn-danger"-->
<!--                                                        th:onclick="'btnRemFolder(\'' + ${home} + '\', \'' + ${stat.index} + '\');'">-->
<!--                                                    <span aria-hidden="" class="glyphicon glyphicon-trash"></span>-->
<!--                                                </button>-->
                                            </td>
                                        </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
<!--                            <div class="col-md-2">-->
<!--                                <a class="btn btn-primary btn-lg btn-block btn-add-toggle"-->
<!--                                   data-toggle="modal" data-target="#folderModal"-->
<!--                                   onclick="btnAddFolder()">+</a>-->
<!--                            </div>-->
                        </div>
                    </div>
                </div>
            </div>
            <div role="tabpanel" class="tab-pane" id="meta">
                <div class="row">
                    <div class="col-md-12">
                        <div class="form-group">
                            <label for="home_meta_title">Meta Title</label>
                            <input class="form-control" type="text" value="" id="home_meta_title" th:field="${home.metaTitle}">
                        </div>
                        <div class="form-group">
                            <label for="home_meta_keywords">Meta Keywords</label>
                            <textarea class="form-control" rows="5" id="home_meta_keywords" th:field="${home.metaKeywords}"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="home_meta_description">Meta Description</label>
                            <textarea class="form-control" rows="5" id="home_meta_description" th:field="${home.metaDescription}"></textarea>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-12">
                <input type="submit" value="Save" class="btn btn-warning">
            </div>
        </div>
    </form>
</div>
</body>
</html>